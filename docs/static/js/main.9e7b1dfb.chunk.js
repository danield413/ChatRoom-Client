(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{677:function(e,t,n){},690:function(e,t,n){"use strict";n.r(t);var a,s,c,r,i=n(1),o=n.n(i),l=n(56),d=n.n(l),u=n(15),j=n(65),b=n(34),m=n(46),h=n.n(m),x=n(115),O=n(136),f=n.n(O),p=n(100),g=n.n(p),v="AUTH checking JWT finish",w="AUTH login",N="AUTH logout",k="AUTH new user",y="DASHBOARD add messages",C="DASHBOARD add chat messages",S="DASHBOARD add users",_="DASHBOARD clean",I="DASHBOARD select user",T="DASHBOARD add all registered users",A="DASHBOARD open sidebar",B="DASHBOARD close sidebar",E="STATS load stats",D="STATS clean stats",R=function(e){return{type:w,payload:e}},M=function(){return{type:k}},U=function(){return{type:v}},F=function(){return{type:N}},H=n(23),q=n(697),P=n(370),z=n(698),G=n(97),L=function(e){return{type:y,payload:e}},V=function(e){return{type:C,payload:e}},J=function(e){return{type:I,payload:e}},K=function(){return{type:A}},W=function(){return{type:B}},X=function(){return{type:_}},Q=n(2),Y=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth})).uid,n=Object(u.c)((function(e){return e.dashboard})).selectedUser,a=Object(u.c)((function(e){return e.dashboard})).users;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("h6",{className:"lead ms-4 my-3 ",children:Object(Q.jsx)("strong",{className:"text-light text-resp",children:"Conectados"})}),Object(Q.jsxs)("button",{onClick:function(){e(J({})),e(W())},className:"text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar ".concat((null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.uid)?"":"user-sidebar-active"),children:[Object(Q.jsx)("img",{src:"./assets/img1.jpg",alt:"default",className:"ms-3 mr-10 img-topbar"}),Object(Q.jsxs)("span",{className:"fw-bold text-resp",children:["Chat general ",Object(Q.jsx)("i",{className:"fas fa-circle mx-2 fz-12px text-online"})]})]}),Object(Q.jsx)("div",{className:"w-100 overflow-auto online-height",children:a&&a.map((function(a){return(null===a||void 0===a?void 0:a.id)!==t&&Object(Q.jsxs)("button",{onClick:function(){e(J({uid:null===a||void 0===a?void 0:a.id,name:null===a||void 0===a?void 0:a.name,picture:null===a||void 0===a?void 0:a.picture})),e(W())},className:"text-resp text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar ".concat(a.id===(null===n||void 0===n?void 0:n.uid)?"user-sidebar-active":""),children:["undefined"!==a.picture&&"null"!==a.picture?Object(Q.jsx)("img",{src:a.picture,alt:a.name,className:"ms-3 mr-10 img-topbar"}):Object(Q.jsx)("img",{src:"./assets/default-user.png",alt:"default",className:"ms-3 mr-10 img-topbar"}),Object(Q.jsxs)("span",{className:"fw-bold text-resp",children:[a.name," ",Object(Q.jsx)("i",{className:"fas fa-circle mx-2 text-online"})]})]},a.id)}))})]})},Z=function(){var e=Object(u.c)((function(e){return e.dashboard})).allUsers,t=Object(u.c)((function(e){return e.auth})).uid;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("h5",{className:"lead ms-4 my-3",children:Object(Q.jsx)("strong",{className:"text-light text-resp",children:"Todos"})}),Object(Q.jsx)("div",{className:"w-100 overflow-auto all-height",children:e&&e.map((function(e){return(null===e||void 0===e?void 0:e.id)!==t&&Object(Q.jsxs)("button",{className:"text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar",children:[e.picture?Object(Q.jsx)("img",{src:null===e||void 0===e?void 0:e.picture,alt:null===e||void 0===e?void 0:e.name,className:"ms-3 mr-10 img-topbar"}):Object(Q.jsx)("img",{src:"./assets/default-user.png",alt:"default",className:"ms-3 mr-10 img-topbar"}),Object(Q.jsx)("span",{className:"fw-bold",children:e.name})]},e.uid)}))})]})},$=function(){return{type:D}},ee=function(e){if(e)return e.split(" ")[0]},te=function(){var e=Object(u.c)((function(e){return e.auth})),t=e.name,n=e.picture;return Object(Q.jsxs)("div",{children:[n?Object(Q.jsx)("img",{src:n,alt:t,className:"ms-3 mr-10 img-topbar"}):Object(Q.jsx)("img",{src:"./assets/default-user.png",alt:t,className:"ms-3 mr-10 img-topbar"}),Object(Q.jsxs)("span",{className:"fw-bold text-white",children:[ee(t),Object(Q.jsx)("i",{className:"fas fa-circle mx-2 text-online"})]})]})},ne=n(58),ae=n(59),se=n(94),ce=n(336),re=ae.a.a(a||(a=Object(ne.a)(["\n    border: 2px solid cyan;\n    background-color: transparent;\n    color: cyan;\n    padding: 5px 10px;\n    border-radius: 5px;\n    transition: 0.2s ease-in;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n        background-color: cyan;\n        color: black;\n    }\n"]))),ie=function(e){var t=e.to,n=e.text,a=Object(u.b)(),s=Object(b.g)();return Object(Q.jsxs)(re,{className:"text-resp link-button px-3 fw-bold",onClick:function(){a(W()),s.push(t)},children:["Estad\xedsticas"===n?Object(Q.jsx)(se.b,{}):Object(Q.jsx)(ce.a,{}),n]})},oe=function(e){var t=e.uid;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("p",{className:"text-muted text-center mt-2",children:["ID: ",t]}),Object(Q.jsx)("div",{className:"w-100 d-flex justify-content-center mb-3",children:Object(Q.jsx)(ie,{to:"/stats",text:"Estad\xedsticas"})})]})},le=function(){var e=Object(i.useState)("online"),t=Object(H.a)(e,2),n=t[0],a=t[1],s=Object(u.b)(),c=Object(u.c)((function(e){return e.auth})).uid,r=Object(u.c)((function(e){return e.dashboard})).users,o=Object(u.c)((function(e){return e.dashboard})).selectedUser,l=Object(i.useCallback)((function(){r.find((function(e){return e.id===(null===o||void 0===o?void 0:o.uid)}))||s(J({}))}),[r,null===o||void 0===o?void 0:o.uid,s]);Object(i.useEffect)((function(){l()}),[r,l]);return Object(Q.jsxs)("aside",{className:"h-100",children:[Object(Q.jsx)("header",{children:Object(Q.jsxs)("div",{className:"w-100 bg-dark d-flex justify-content-between align-items-center px-2 header-height",children:[Object(Q.jsx)(te,{}),Object(Q.jsxs)(q.a,{title:Object(Q.jsx)(G.b,{}),id:"dropdown-item-button",variant:"dark",className:"bg-dark d-inline",children:[Object(Q.jsx)(P.a.ItemText,{className:"bg-secondary text-light",children:Object(Q.jsx)("strong",{children:"Opciones"})}),Object(Q.jsx)(P.a.Item,{as:"button",onClick:function(){s(F()),s(X()),s($()),localStorage.removeItem("chat-token")},className:"bg-secondary text-light",children:"Salir"})]})]})}),Object(Q.jsx)(oe,{uid:c}),Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(z.a,{"aria-label":"selecci\xf3n",className:"w-100",children:[Object(Q.jsx)("button",{onClick:function(){return a("online")},className:"button-group w-50 text-resp ".concat("online"===n&&"button-group-active"," fw-bold text-white"),children:"Conectados"}),Object(Q.jsx)("button",{onClick:function(){return a("all")},className:"button-group w-50 text-resp ".concat("all"===n&&"button-group-active"," fw-bold text-white"),children:"Todos"})]}),"online"===n?Object(Q.jsx)(Y,{}):Object(Q.jsx)(Z,{})]})]})},de=n(338),ue=n(707),je=function(){var e=Object(i.useState)("online"),t=Object(H.a)(e,2),n=t[0],a=t[1],s=Object(u.b)(),c=Object(u.c)((function(e){return e.auth})).uid,r=Object(u.c)((function(e){return e.dashboard})).users,o=Object(u.c)((function(e){return e.dashboard})).selectedUser,l=Object(i.useCallback)((function(){r.find((function(e){return e.id===(null===o||void 0===o?void 0:o.uid)}))||s(J({}))}),[r,null===o||void 0===o?void 0:o.uid,s]);Object(i.useEffect)((function(){l()}),[r,l]);return Object(Q.jsxs)("aside",{className:"h-100",children:[Object(Q.jsx)("header",{children:Object(Q.jsxs)("div",{className:"w-100 bg-dark d-flex justify-content-between align-items-center px-2 header-height",children:[Object(Q.jsx)(te,{}),Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(q.a,{title:Object(Q.jsx)(G.b,{}),id:"dropdown-item-button",variant:"dark",className:"bg-dark d-inline",children:[Object(Q.jsx)(P.a.ItemText,{className:"bg-secondary text-light text-resp",children:Object(Q.jsx)("strong",{children:"Opciones"})}),Object(Q.jsx)(P.a.Item,{as:"button",onClick:function(){s(F()),s(X()),s($()),localStorage.removeItem("chat-token")},className:"bg-secondary text-light text-resp",children:"Salir"})]}),Object(Q.jsx)(ue.a.button,{onClick:function(){return s(W())},whileTap:{scale:1.4},className:"sidebar-close",children:Object(Q.jsx)(de.a,{fill:"#fff",size:"1.4rem"})})]})]})}),Object(Q.jsx)(oe,{uid:c}),Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(z.a,{"aria-label":"selecci\xf3n",className:"w-100",children:[Object(Q.jsx)("button",{onClick:function(){return a("online")},className:"text-resp button-group w-50 ".concat("online"===n&&"button-group-active"," fw-bold text-white"),children:"Conectados"}),Object(Q.jsx)("button",{onClick:function(){return a("all")},className:"text-resp button-group w-50 ".concat("all"===n&&"button-group-active"," fw-bold text-white"),children:"Todos"})]}),"online"===n?Object(Q.jsx)(Y,{}):Object(Q.jsx)(Z,{})]})]})},be=n(5),me=n.n(be),he=function(e){var t=e.text,n=e.name,a=e.date;return Object(Q.jsxs)(ue.a.div,{animate:{scale:[1,1.1,1]},className:"text-msg-res px-3 py-1 d-flex flex-column rounded text-white mb-3 animate__animated animate__fadeIn message-received",children:[n&&Object(Q.jsxs)("div",{className:"text-msg-res fw-bold d-flex justify-content-between align-items-center",children:[n,Object(Q.jsx)(q.a,{title:"",size:"sm",id:"dropdown-item-button",children:Object(Q.jsx)(P.a.Item,{as:"button",onClick:function(){navigator.clipboard.writeText(t).then((function(){g.a.fire("Mensaje copiado")}))},className:"bg-secondary text-light text-msg-res",children:"Copiar texto"})})]}),t,Object(Q.jsx)("span",{className:"text-date d-block text-muted align-self-end",children:a})]})},xe=function(e){var t=e.text,n=e.date;return Object(Q.jsxs)(ue.a.div,{animate:{scale:[1,1.1,1]},className:"text-msg-res px-3 py-1 d-flex flex-column rounded text-white mb-3 animate__animated animate__fadeIn message-sent",children:[t,Object(Q.jsx)("span",{className:"text-date d-block text-light align-self-end fz-12px",children:n})]})},Oe=n(708),fe=n(339),pe=function(e){var t=e.show,n=e.handleClose,a=e.participants,s=void 0===a?[]:a;return Object(Q.jsxs)(Oe.a,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[Object(Q.jsxs)(Oe.a.Header,{children:[Object(Q.jsx)(Oe.a.Title,{children:"Informaci\xf3n"}),Object(Q.jsx)(ue.a.button,{onClick:n,className:"btn",whileTap:{scale:1.4},children:Object(Q.jsx)(fe.a,{})})]}),Object(Q.jsxs)(Oe.a.Body,{children:[Object(Q.jsx)("h4",{className:"fw-bold text-center",children:"Participantes"}),0===s.length?Object(Q.jsxs)("div",{className:"w-100",children:[Object(Q.jsxs)("div",{className:"alert alert-info text-center text-resp",children:["Todos los usuarios registrados en ",Object(Q.jsx)("strong",{children:"ChatRoom"})]}),Object(Q.jsx)("img",{src:"./assets/chatting-group.svg",alt:"chatting-group",className:"svg"})]}):Object(Q.jsxs)("div",{className:"w-100",children:[Object(Q.jsx)("div",{className:"alert alert-success text-center",children:Object(Q.jsxs)("strong",{children:[s[0]," - ",s[1]]})}),Object(Q.jsx)("img",{src:"./assets/chatting.svg",alt:"chatting",className:"svg"})]})]}),Object(Q.jsx)(Oe.a.Footer,{})]})},ge=ae.a.div(s||(s=Object(ne.a)(["\n    height: 60px;\n    width: 100%; \n    padding: 0 10%; \n    background: var(--input-chat);\n"]))),ve=ae.a.input(c||(c=Object(ne.a)(["\n    height: 65%;\n    border: 1px solid transparent;\n    outline: none;\n    border-bottom-left-radius: 5px;\n    border-top-left-radius: 5px;\n    padding-left: 10px;\n    background: rgb(27, 27, 27);\n    color: white;\n    transition: 0.3s ease;\n\n    &:focus {\n        border: 1px solid var(--bs-primary);\n    }\n"]))),we=ae.a.button(r||(r=Object(ne.a)(["\n    border: none;\n    cursor: pointer;\n    height: 65%;\n    padding: 0 15px;\n    border-top-right-radius: 5px;\n    border-bottom-right-radius: 5px;\n    background-color: var(--bs-primary);\n    transition: 0.3s ease;\n\n    &:hover: {\n        background-color: #0f3d81;\n    }\n"]))),Ne=function(e){var t=e.handleSubmit,n=e.textRef;return Object(Q.jsx)(ge,{children:Object(Q.jsxs)("form",{onSubmit:t,className:"h-100 d-flex align-items-center",children:[Object(Q.jsx)(ve,{ref:n,type:"text",className:"w-100",placeholder:"Escribe un mensaje",autoComplete:"off"}),Object(Q.jsx)(we,{type:"submit",className:"bg-primary",children:Object(Q.jsx)(se.c,{color:"#fff"})})]})})},ke=function(e){var t=e.location,n=Object(u.c)((function(e){return e.dashboard})).selectedUser;return Object(Q.jsxs)("div",{className:"d-flex align-items-center",children:["public"===t&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("img",{src:"./assets/img1.jpg",alt:"Foto de perfil de grupo",className:"ms-3 img-topbar"}),Object(Q.jsx)("span",{className:"text-white fw-bold ms-3 text-resp",children:"Chat general"})]}),"private"===t&&Object(Q.jsxs)(Q.Fragment,{children:["null"!==n.picture?Object(Q.jsx)("img",{src:n.picture,alt:n.name,className:"ms-3  img-topbar"}):Object(Q.jsx)("img",{src:"./assets/default-user.png",alt:"default",className:"ms-3 img-topbar"}),Object(Q.jsxs)("span",{className:"text-white fw-bold ms-3 text-resp",children:[n.name," ",Object(Q.jsx)("i",{className:"fas fa-circle mx-2 text-online"})]})]})]})},ye=function(e){var t=e.sendMessage,n=e.showMenuButton,a=Object(i.useState)(!1),s=Object(H.a)(a,2),c=s[0],r=s[1],o=Object(u.b)(),l=Object(i.useRef)(),d=Object(u.c)((function(e){return e.dashboard})).messages,j=Object(u.c)((function(e){return e.auth})).uid,b=Object(i.useCallback)((function(e){e&&e.scrollIntoView({behavior:"smooth"})}),[]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",{className:"chat w-100",children:[Object(Q.jsxs)("div",{className:"bg-head-chat header-chat",children:[Object(Q.jsx)(ke,{location:"public"}),Object(Q.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[Object(Q.jsx)(ue.a.button,{onClick:function(){return r(!0)},whileTap:{scale:2.5},className:"button-info mr-1rem",children:Object(Q.jsx)(se.a,{})}),n&&Object(Q.jsx)(ue.a.button,{onClick:function(){return o(K())},whileTap:{scale:2.5},className:"button-info mr-1rem",children:Object(Q.jsx)(G.a,{})})]})]}),Object(Q.jsxs)("div",{className:"overflow-auto pt-4 bg-chat container-chat",children:[0===d.length&&Object(Q.jsx)("div",{className:"alert alert-warning text-center mx-5 text-resp",children:"Todav\xeda no hay mensajes, comienza escribiendo uno."}),d.length>0&&d.map((function(e,t){var n=d.length-1===t;return e.user._id===j?Object(Q.jsx)("div",{className:"d-flex w-100 align-items-end flex-column",ref:n?b:null,children:Object(Q.jsx)(xe,{text:e.message,date:e.date},t)},t):Object(Q.jsx)("div",{className:"d-flex w-100 align-items-start flex-column",ref:n?b:null,children:Object(Q.jsx)(he,{text:e.message,name:e.user.name,date:e.date},t)},t)}))]}),Object(Q.jsx)(Ne,{textRef:l,handleSubmit:function(e){e.preventDefault(),""===l.current.value||t(l.current.value),l.current.value=""}})]}),Object(Q.jsx)(pe,{handleClose:function(){return r(!1)},show:c})]})};ye.propType={sendMessage:me.a.func.isRequired,showMenuButton:me.a.func.isRequired};var Ce=n(699),Se=function(e){var t=e.sendPrivateMessage,n=e.showMenuButton,a=Object(i.useRef)(),s=Object(i.useState)(!1),c=Object(H.a)(s,2),r=c[0],o=c[1],l=Object(i.useState)(!1),d=Object(H.a)(l,2),j=d[0],b=d[1],m=Object(u.c)((function(e){return e.dashboard})).selectedUser,h=Object(u.c)((function(e){return e.dashboard})).chatMessages,x=Object(u.c)((function(e){return e.auth})),O=x.uid,p=x.name,v=Object(u.b)(),w=Object(i.useCallback)((function(e){e&&e.scrollIntoView({behavior:"smooth"})}),[]);return Object(i.useEffect)((function(){(null===m||void 0===m?void 0:m.uid)&&(b(!0),f.a.get("".concat("https://room-chat-dan.herokuapp.com/api","/messages/get-all-chat/").concat(O,"/").concat(null===m||void 0===m?void 0:m.uid),{headers:{"x-token":localStorage.getItem("chat-token"),"Content-Type":"application/json"}}).then((function(e){var t=e.data;b(!1),v(V(t.messagesChat))})).catch((function(e){g.a.fire("UPS, hubo un error cargando el chat")})))}),[null===m||void 0===m?void 0:m.uid,null===m||void 0===m?void 0:m.name,O,v]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",{className:"chat w-100",children:[Object(Q.jsxs)("div",{className:"bg-head-chat header-chat",children:[Object(Q.jsx)(ke,{location:"private"}),Object(Q.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[Object(Q.jsx)(ue.a.button,{onClick:function(){return o(!0)},whileTap:{scale:2.5},className:"button-info mr-1rem",children:Object(Q.jsx)(se.a,{})}),n&&Object(Q.jsx)(ue.a.button,{onClick:function(){return v(K())},whileTap:{scale:2.5},className:"button-info mr-1rem",children:Object(Q.jsx)(G.a,{})})]})]}),Object(Q.jsxs)("div",{className:"overflow-auto pt-4 bg-chat container-chat",children:[j&&Object(Q.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(Q.jsx)(Ce.a,{animation:"border",role:"status",variant:"primary"})}),h&&!j&&0===h.length&&Object(Q.jsxs)("div",{className:"alert alert-warning text-center text-resp mx-alert",children:["A\xfan no tienes mensajes con ",Object(Q.jsxs)("strong",{children:[null===m||void 0===m?void 0:m.name,"."]})]}),h&&h.map((function(e,t){var n=h.length-1===t;return e.recipient!==O?Object(Q.jsx)("div",{className:"d-flex w-100 align-items-end flex-column",ref:n?w:null,children:Object(Q.jsx)(xe,{text:e.message,date:e.date},t)},t):Object(Q.jsx)("div",{className:"d-flex w-100 align-items-start flex-column",ref:n?w:null,children:Object(Q.jsx)(he,{text:e.message,date:e.date},t)},t)}))]}),Object(Q.jsx)(Ne,{textRef:a,handleSubmit:function(e){e.preventDefault(),""===a.current.value||t(a.current.value),a.current.value=""}})]}),Object(Q.jsx)(pe,{handleClose:function(){return o(!1)},show:r,participants:[p,null===m||void 0===m?void 0:m.name]})]})},_e=n(247),Ie=n.n(_e),Te=n(340),Ae=o.a.createContext();var Be,Ee,De,Re,Me=function(e){var t=e.children,n=Object(i.useState)(),a=Object(H.a)(n,2),s=a[0],c=a[1],r=Object(u.c)((function(e){return e.auth})),o=r.uid,l=r.name,d=r.picture,j=Object(u.c)((function(e){return e.dashboard})).selectedUser,b=Object(u.b)(),m=Object(i.useCallback)((function(e){var t=new Date,n=Ie()(t).format("LT");s.emit("send-message",{message:e,user:o,date:n})}),[s,o]),h=Object(i.useCallback)((function(e){var t=new Date,n=Ie()(t).format("LT");s.emit("send-private-message",[{message:e,date:n},{uid:j.uid,name:j.name}])}),[null===j||void 0===j?void 0:j.uid,null===j||void 0===j?void 0:j.name,s]);Object(i.useEffect)((function(){var e=Object(Te.io)("https://room-chat-dan.herokuapp.com/",{query:{uid:o,name:l,picture:d}});return c(e),function(){return e.close()}}),[o,l,d]),Object(i.useEffect)((function(){if(s)return s.on("receive-messages",(function(e){b(L(e))})),function(){return s.off("receive-messages")}}),[s,b]),Object(i.useEffect)((function(){if(s)return s.on("created-message",(function(e){b(L(e))})),function(){return s.off("created-message")}}),[s,b]),Object(i.useEffect)((function(){if(s)return s.on("active-users",(function(e){b(function(e){return{type:S,payload:e}}(e))})),function(){return s.off("active-users")}}),[s,b]),Object(i.useEffect)((function(){if(s)return s.on("private-messages",(function(e){b(V(e))})),function(){return s.off("private-messages")}}),[s,b]),Object(i.useEffect)((function(){if(s)return s.on("registered-users",(function(e){b(function(e){return{type:T,payload:e}}(e))})),function(){return s.off("registered-users")}}),[s,b]),Object(i.useEffect)((function(){if(s)return s.on("get-stats",(function(e){b(function(e){return{type:E,payload:e}}(e))})),function(){return s.off("get-stats")}}),[s,b]);var x={sendMessage:m,sendPrivateMessage:h};return Object(Q.jsx)(Ae.Provider,{value:x,children:t})},Ue=n(98),Fe=function(){var e=Object(u.c)((function(e){return e.auth})).name,t=Object(i.useState)(window.screen.width),n=Object(H.a)(t,2),a=n[0],s=n[1],c=Object(u.c)((function(e){return e.dashboard})),r=c.selectedUser,o=c.showSidebar,l=Object(i.useContext)(Ae),d=l.sendMessage,j=l.sendPrivateMessage;return Object(i.useEffect)((function(){var e=function(e){s(e.target.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Ue.a,{children:[Object(Q.jsxs)("title",{children:[e," | ChatRoom"]}),Object(Q.jsx)("meta",{name:"description",content:"Contenido principal del usuario y salas de chat"})]}),Object(Q.jsx)("main",{children:Object(Q.jsxs)("div",{id:"container-grid",children:[a>900&&Object(Q.jsx)("div",{className:"p-0 aside-color",children:Object(Q.jsx)(le,{})}),a<=900&&Object(Q.jsx)("div",{className:"p-0 aside-color aside-responsive ".concat(o&&"aside-responsive-show"),children:Object(Q.jsx)(je,{})}),Object(Q.jsx)("div",{className:"p-0 d-flex",children:Object(Q.jsx)("div",{className:"d-flex column-chat-dimensions",id:"chat",children:(null===r||void 0===r?void 0:r.uid)&&(null===J||void 0===J?void 0:J.name)?Object(Q.jsx)(Se,{sendPrivateMessage:j,showMenuButton:a<900}):Object(Q.jsx)(ye,{sendMessage:d,showMenuButton:a<900})})})]})})]})},He=n(700),qe=n(701),Pe=n(343),ze=n(702),Ge=n(703),Le=n(359),Ve=n(360),Je=n(169),Ke=n(164),We=n(372),Xe=function(){var e=Object(u.c)((function(e){return e.stats})).countMessages;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Ue.a,{children:[Object(Q.jsx)("title",{children:"Stats | ChatRoom"}),Object(Q.jsx)("meta",{name:"description",content:"Estadisticas del chat general"})]}),Object(Q.jsx)(He.a,{fluid:!0,children:Object(Q.jsx)(qe.a,{children:Object(Q.jsx)(Pe.a,{md:12,className:"p-0 bg-dark",children:Object(Q.jsxs)("div",{className:"container-full",children:[Object(Q.jsx)("div",{className:"px-3 py-2 bg-head-chat header-stats",children:Object(Q.jsx)(ie,{to:"/",text:"Inicio"})}),Object(Q.jsx)("h3",{className:"text-resp text-white text-center mt-5",children:"Usuarios que m\xe1s mensajes han enviado"}),Object(Q.jsx)("h4",{className:"text-resp text-info text-center mb-5",children:"En el chat general"}),Object(Q.jsx)(ze.a,{width:"90%",height:"50%",className:"text-resp",children:Object(Q.jsxs)(Ge.a,{width:500,height:300,data:e,margin:{top:5,right:5,left:5,bottom:5},children:[Object(Q.jsx)(Le.a,{dataKey:"name"}),Object(Q.jsx)(Ve.a,{}),Object(Q.jsx)(Je.a,{}),Object(Q.jsx)(Ke.a,{}),Object(Q.jsx)(We.a,{dataKey:"messages",fill:"#8884d8"})]})})]})})})})]})},Qe=n(709),Ye=n(337),Ze=n(204),$e=n(85),et=n(366),tt=n(367),nt=ae.a.div(Be||(Be=Object(ne.a)(["\n    width: 100%;\n    height: 42px;\n    margin-top: 1rem;\n    background-color: #4285F4;\n    border-radius: 5px;\n    color: white;\n    cursor: pointer;\n    display: grid;\n    grid-template-columns: 20% 80%;\n    transition: 0.2s ease;\n\n    &:hover {\n        background: #366fca;\n    }\n"]))),at=ae.a.div(Ee||(Ee=Object(ne.a)(["\n    background: #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-top-left-radius: 5px;\n    border-bottom-left-radius: 5px;\n"]))),st=ae.a.div(De||(De=Object(ne.a)(["\n    font-family: 'Roboto', sans-serif;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),ct=function(){var e=Object(u.b)(),t=window.location.hostname.includes("localhost")?"http://localhost:5000/api/auth/google":"https://room-chat-dan.herokuapp.com/api/auth/google",n=function(){var n=Object(x.a)(h.a.mark((function n(a){var s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s={id_token:a},fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){var n=t.uid,a=t.name,s=t.email,c=t.google,r=t.picture,i=t.token;e(R({uid:n,name:a,email:s,google:c,picture:r})),localStorage.setItem("chat-token",i)})).catch(console.log);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),a=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tokenId,e.next=3,n(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsx)("div",{children:Object(Q.jsx)(et.GoogleLogin,{clientId:"257430794857-ifhr62u2i59t0snq8a3q4gns6k8or9a6.apps.googleusercontent.com",onSuccess:a,cookiePolicy:"single_host_origin",className:"mt-3 w-100 text-center",render:function(e){return Object(Q.jsxs)(nt,{onClick:e.onClick,disabled:e.disabled,children:[Object(Q.jsx)(at,{children:Object(Q.jsx)(tt.a,{size:"1.7rem"})}),Object(Q.jsx)(st,{children:"Ingresar con Google"})]})}})})},rt=n(368),it=ae.a.a(Re||(Re=Object(ne.a)(["\n    text-decoration: none;\n    color: rgb(108, 117, 125);\n"]))),ot=function(e){var t=e.text;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("h2",{className:"text-white text-start texto mb-0 animate__animated animate__rubberBand",children:"ChatRoom"}),Object(Q.jsxs)("p",{className:"text-muted text-end",children:["por ",Object(Q.jsx)(it,{href:"https://github.com/danield413",target:"_blank",children:Object(Q.jsxs)("strong",{children:["Daniel D\xedaz ",Object(Q.jsx)(rt.a,{})]})})]}),Object(Q.jsx)("h4",{className:"text-white lead",children:t})]})},lt=function(){var e=Object(u.b)(),t=Object(Ze.a)({initialValues:{email:"",password:""},validationSchema:$e.a({email:$e.b().email(!0).required(!0),password:$e.b().required(!0).min(8,!0)}),onSubmit:function(t){var n=t.email,a=t.password;e(function(e,t){return function(){var n=Object(x.a)(h.a.mark((function n(a){var s,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.post("".concat("https://room-chat-dan.herokuapp.com/api","/auth/login"),{email:e,password:t});case 2:s=n.sent,(c=s.data).ok?(localStorage.setItem("chat-token",c.token),a(R({uid:c.user.uid,name:c.user.name,email:c.user.email}))):g.a.fire("Error",c.msg,"error");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,a))}});return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Ue.a,{children:[Object(Q.jsx)("meta",{charSet:"utf-8"}),Object(Q.jsx)("title",{children:"Chat | Login"}),Object(Q.jsx)("meta",{name:"description",content:"Inicio de sesi\xf3n"})]}),Object(Q.jsx)(He.a,{fluid:!0,className:"bg-dark d-flex justify-content-center align-items-center container-full",children:Object(Q.jsx)("div",{className:"form",children:Object(Q.jsxs)(Qe.a,{onSubmit:t.handleSubmit,className:"animate__animated animate__fadeIn",children:[Object(Q.jsx)(ot,{text:"Inicio de sesi\xf3n"}),Object(Q.jsx)(Qe.a.Group,{className:"mb-3",children:Object(Q.jsx)(Qe.a.Control,{autoComplete:"off",name:"email",className:"bg-dark text-white",type:"email",placeholder:"Correo",value:t.values.email,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.errors.email})}),Object(Q.jsx)(Qe.a.Group,{children:Object(Q.jsx)(Qe.a.Control,{name:"password",className:"bg-dark text-white",type:"password",placeholder:"Contrase\xf1a",value:t.values.password,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.errors.password})}),Object(Q.jsx)(Ye.a,{type:"submit",variant:"outline-primary",className:"w-100 mt-3",children:"Ingresar"}),Object(Q.jsx)(ct,{}),Object(Q.jsx)(j.b,{to:"/auth/register",className:"d-inline-block mt-3",children:"Si no tienes una cuenta"})]})})})]})},dt=function(){var e=Object(u.b)(),t=Object(Ze.a)({initialValues:{name:"",email:"",password:""},validationSchema:$e.a({name:$e.b().required(!0).min(3,!0),email:$e.b().email(!0).required(!0),password:$e.b().required(!0).min(8,!0)}),onSubmit:function(t){var n=t.name,a=t.email,s=t.password;e(function(e,t,n){return function(){var a=Object(x.a)(h.a.mark((function a(s){var c,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.post("".concat("https://room-chat-dan.herokuapp.com/api","/auth/register"),{name:e,email:t,password:n});case 2:c=a.sent,(r=c.data).ok?(localStorage.setItem("chat-token",r.token),s(M()),s(R({uid:r.user.uid,name:r.user.name,email:r.user.email,picture:r.user.picture})),g.a.fire({position:"bottom-end",icon:"success",title:"Cuenta creada",showConfirmButton:!1,timer:1500})):g.a.fire("Error",r.msg,"error");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,a,s))}});return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Ue.a,{children:[Object(Q.jsx)("meta",{charSet:"utf-8"}),Object(Q.jsx)("title",{children:"Chat | Register"}),Object(Q.jsx)("meta",{name:"description",content:"Registro de nuevo usuario"})]}),Object(Q.jsx)(He.a,{fluid:!0,className:"bg-dark d-flex flex-column justify-content-center align-items-center container-full",children:Object(Q.jsx)("div",{className:"form",children:Object(Q.jsxs)(Qe.a,{onSubmit:t.handleSubmit,className:"animate__animated animate__fadeIn",children:[Object(Q.jsx)(ot,{text:"Registro"}),Object(Q.jsx)(Qe.a.Group,{className:"mb-3",children:Object(Q.jsx)(Qe.a.Control,{autoComplete:"off",name:"name",className:"bg-dark text-white",type:"text",placeholder:"Nombre",value:t.values.name,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.errors.name})}),Object(Q.jsx)(Qe.a.Group,{className:"mb-3",children:Object(Q.jsx)(Qe.a.Control,{autoComplete:"off",name:"email",className:"bg-dark text-white",type:"email",placeholder:"Correo",value:t.values.email,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.errors.email})}),Object(Q.jsx)(Qe.a.Group,{children:Object(Q.jsx)(Qe.a.Control,{name:"password",className:"bg-dark text-white",type:"password",placeholder:"Contrase\xf1a",value:t.values.password,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.errors.password})}),Object(Q.jsx)(Ye.a,{type:"submit",variant:"outline-primary",className:"w-100 mt-3",children:"Registrarme"}),Object(Q.jsx)(j.b,{to:"/auth/login",className:"d-inline-block mt-3",children:"Si ya tienes una cuenta"})]})})})]})},ut=function(){return Object(Q.jsx)(j.a,{children:Object(Q.jsxs)(b.d,{children:[Object(Q.jsx)(b.b,{path:"/auth/login",component:lt}),Object(Q.jsx)(b.b,{path:"/auth/register",component:dt}),Object(Q.jsx)(b.a,{to:"/auth/login"})]})})},jt=n(22),bt=n(203),mt=function(e){var t=e.isAuthenticated,n=e.component,a=Object(bt.a)(e,["isAuthenticated","component"]);return Object(Q.jsx)(b.b,Object(jt.a)(Object(jt.a)({},a),{},{component:function(e){return t?Object(Q.jsx)(n,Object(jt.a)({},e)):Object(Q.jsx)(b.a,{to:"/login"})}}))},ht=function(e){var t=e.isAuthenticated,n=e.component,a=Object(bt.a)(e,["isAuthenticated","component"]);return Object(Q.jsx)(b.b,Object(jt.a)(Object(jt.a)({},a),{},{component:function(e){return t?Object(Q.jsx)(b.a,{to:"/"}):Object(Q.jsx)(n,Object(jt.a)({},e))}}))},xt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth})),n=t.checking,a=t.uid;return Object(i.useEffect)((function(){e(function(){var e=Object(x.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("https://room-chat-dan.herokuapp.com/api","/auth/renew"),{headers:{"x-token":localStorage.getItem("chat-token"),"Content-Type":"application/json"}});case 2:n=e.sent,(a=n.data).ok?(localStorage.setItem("chat-token",a.token),t(R({uid:a.user.uid,name:a.user.name,email:a.user.email,picture:a.user.picture}))):t(U());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(Q.jsx)("div",{className:"flexible",children:Object(Q.jsxs)("div",{className:"sk-chase",children:[Object(Q.jsx)("div",{className:"sk-chase-dot"}),Object(Q.jsx)("div",{className:"sk-chase-dot"}),Object(Q.jsx)("div",{className:"sk-chase-dot"}),Object(Q.jsx)("div",{className:"sk-chase-dot"}),Object(Q.jsx)("div",{className:"sk-chase-dot"}),Object(Q.jsx)("div",{className:"sk-chase-dot"})]})}):Object(Q.jsx)(Me,{children:Object(Q.jsx)(j.a,{children:Object(Q.jsxs)(b.d,{children:[Object(Q.jsx)(ht,{isAuthenticated:!!a,path:"/auth",component:ut}),Object(Q.jsx)(mt,{isAuthenticated:!!a,exact:!0,path:"/",component:Fe}),Object(Q.jsx)(mt,{isAuthenticated:!!a,path:"/stats",component:Xe}),Object(Q.jsx)(b.a,{to:"/auth/login"})]})})})},Ot=n(168),ft=n(369),pt={checking:!0},gt={messages:[],users:[],selectedUser:{},chatMessages:[],allUsers:[]},vt={countMessages:[]},wt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ot.c,Nt=Object(Ot.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(jt.a)(Object(jt.a)({},e),{},{checking:!1},t.payload);case N:return{checking:!1};case v:return Object(jt.a)(Object(jt.a)({},e),{},{checking:!1});case k:return Object(jt.a)(Object(jt.a)({},e),{},{newUser:!0});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(jt.a)(Object(jt.a)({},e),{},{messages:(null===t||void 0===t?void 0:t.payload)?t.payload:[]});case S:return Object(jt.a)(Object(jt.a)({},e),{},{users:t.payload});case _:return{messages:[],users:[]};case I:return Object(jt.a)(Object(jt.a)({},e),{},{selectedUser:t.payload});case C:return Object(jt.a)(Object(jt.a)({},e),{},{chatMessages:t.payload});case T:return Object(jt.a)(Object(jt.a)({},e),{},{allUsers:t.payload});case A:return Object(jt.a)(Object(jt.a)({},e),{},{showSidebar:!0});case B:return Object(jt.a)(Object(jt.a)({},e),{},{showSidebar:!1});default:return e}},stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(jt.a)(Object(jt.a)({},e),{},{countMessages:t.payload});case D:return{countMessages:[]};default:return e}}}),kt=Object(Ot.d)(Nt,wt(Object(Ot.a)(ft.a)));n(677),n(678);var yt=function(){return Object(Q.jsx)(u.a,{store:kt,children:Object(Q.jsx)(xt,{})})};n(679),n(680);d.a.render(Object(Q.jsx)(yt,{}),document.getElementById("root"))}},[[690,1,2]]]);
//# sourceMappingURL=main.9e7b1dfb.chunk.js.map